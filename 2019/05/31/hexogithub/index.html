<!DOCTYPE html>
<html lang="zh-CN">


<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <title>
    Hexo＋Github搭建静态博客 | TEAPER
  </title>
  <meta name="description" content="与人为善是修养，独来独往是性格！">
  
  <meta name="keywords" content="
  hexo,github pages,node.js,npm,git,rss,sitemap,google Analytics,Live2D,disqus,gitalk
  ">
  
  <meta name="author" content="teaper">

  <meta http-equiv="Cache-Control" content="no-transform">
  <meta http-equiv="Cache-Control" content="no-siteapp">
  <meta name="theme-color" content="#1e2327">
  <link rel="apple-touch-icon" href="https://github.githubassets.com/apple-touch-icon.png">
  <link rel="apple-touch-icon" sizes="180x180" href="https://github.githubassets.com/apple-touch-icon-180x180.png">

  <link rel="icon" type="image/x-icon" href="https://i.loli.net/2019/06/04/5cf683cea837456459.jpeg">
  <link rel="stylesheet" href="/css/main.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="/live2d/css/live2d.css">
  <link rel="stylesheet" href="/css/player.css">
  <link rel="stylesheet" href="/iconfont/iconfont.css">
  
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-140493383-1', 'auto');
  ga('send', 'pageview');
</script>


  

  <script src="//cdnjs.cloudflare.com/ajax/libs/vue/1.0.25-csp/vue.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.11.2/moment.min.js"></script>
</head>

<body id="replica-app">

<nav class="navbar-wrapper">
  <div class="navbar">
    <div class="container clearfix">
      <a href="/" class="navbar-logo"><i class="fa fa-github"></i></a>

      <div class="navbar-search float-left desktop-only">
        <div class="navbar-search-form">
          <label for="gsc-i-id1">This website</label>
          <div id="google-search">
            <gcse:search></gcse:search>
          </div>
        </div>
      </div>

      <ul class="navbar-nav float-left">
        
        <li><a href="/archives">Archives</a></li>
        
        
        <li><a href="/categories">Categories</a></li>
        
        
        <li><a href="/tags">Tags</a></li>
        
        
        <li><a href="/links">Links</a></li>
        
        
        <li class="desktop-only"><a href="/atom.xml" target="_blank">RSS</a></li>
        
      </ul>

      <ul class="navbar-nav user-nav float-right desktop-only">
        <li class="user-nav-notification">
          <a><span class="user-nav-unread"></span><i class="fa fa-bell"></i></a>
        </li>
        <li>
          <a><i class="fa fa-plus"></i> <i class="fa fa-caret-down"></i></a>
        </li>
        <li class="user-nav-logo">
          <a><img src="https://i.loli.net/2019/06/04/5cf683cea837456459.jpeg"> <i class="fa fa-caret-down"></i></a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<div class="main-container">
  <header class="header-wrapper desktop-only">
  <div class="container header-site-detail">
    <ul class="header-toolbar">
      <li class="clearfix">
        <a href="/archives" class="header-toolbar-left"><i class="fa fa-file-text"></i> Posts </a>
        <a href="/archives" class="header-toolbar-right"> 17 </a>
      </li>
      <li>
        <a href="/tags" class="header-toolbar-left"><i class="fa fa-tags"></i> Tags </a>
        <a href="/tags" class="header-toolbar-right"> 42 </a>
      </li>
      <li>
        <a href="/categories" class="header-toolbar-left"><i class="fa fa-folder-open"></i> Categories </a>
        <a href="/categories" class="header-toolbar-right"> 9 </a>
      </li>
    </ul>
    <h2 class="header-title">
      <i class="fa fa-book text-muted"></i>
      <a href="/">TEAPER</a>
      
      
    </h2>
  </div>

  <div class="container">
    <div class="header-tab-wrapper clearfix">
      <span class="header-tab header-tab-selected"><i class="fa fa-thumbs-o-up"></i> Like</span>
      <span class="header-tab"><i class="fa fa-share-alt"></i> Share</span>
      <span class="header-tab"><i class="fa fa-comments-o"></i> Discussion</span>
      <span class="header-tab"><i class="fa fa-bookmark-o"></i> Bookmark </span>
      <span class="header-tab"><i class="fa fa-smile-o"></i> Smile <i class="fa fa-caret-down"></i></span>
    </div>
  </div>
</header>


<div class="post-container container">
  <h3>
    <i class="fa fa-user-o"></i>
    teaper

    <span class="post-date float-right" title="{{moment(1559293240000).format('MMM DD, YYYY, h:mm:ss A')}}">
      <i class="fa fa-pencil-square-o"></i>
      {{moment(1559293240000).fromNow()}}
    </span>
  </h3>

  <article class="post-content">
    <h1 style="text-align:center">Hexo＋Github搭建静态博客</h1>
    <p><span style="color:#B900ff;">什么是Hexo？</span><br><a href="https://hexo.io/docs/" rel="external nofollow noopener noreferrer" target="_blank">Hexo</a>是一个快速，简单和强大的博客框架。您使用<a href="http://daringfireball.net/projects/markdown/" rel="external nofollow noopener noreferrer" target="_blank">Markdown</a>（或其他语言）撰写帖子，Hexo会在几秒钟内生成具有漂亮主题的静态文件  </p>
<h4 id="安装Hexo"><a href="#安装Hexo" class="headerlink" title="安装Hexo"></a>安装Hexo</h4><p>安装Hexo之前需要首先安装以下依赖  </p>
<blockquote>
<p><a href="http://nodejs.org/" rel="external nofollow noopener noreferrer" target="_blank">Node.js</a>（至少应该是nodejs 6.9）<br><a href="http://git-scm.com/" rel="external nofollow noopener noreferrer" target="_blank">Git</a>  </p>
</blockquote>
<p>如果<code>Node.js</code>和<code>Git</code>在你本机安装好了，可以直接使用以下命令安装<code>Hexo</code>  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo npm install -g hexo-cli    <span class="comment">#安装hexo</span></span><br></pre></td></tr></table></figure>

<p><span style="color:#ff0000;">如果还没有安装<code>Node.js</code>和<code>Git</code>，请先安装好，再执行上面的安装命令安装<code>hexo</code></span>  </p>
<h5 id="安装Git及SSH"><a href="#安装Git及SSH" class="headerlink" title="安装Git及SSH"></a>安装Git及SSH</h5><p>注意：这里我是以<code>ArchLinux</code>为例，<code>Debian</code>系的<code>Ubuntu</code>、<code>Deepin</code>替换安装命令<code>pacman</code>为<code>apt</code>即可</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S git <span class="comment">#安装git</span></span><br><span class="line">git config --global user.name <span class="string">"Your Name"</span>   <span class="comment">#配置你的git用户名</span></span><br><span class="line">git config --global user.email <span class="string">"youremail@example.com"</span>      <span class="comment">#配置你的git邮箱</span></span><br><span class="line">git config --list   <span class="comment">#查看</span></span><br><span class="line"></span><br><span class="line">sudo pacman -S openssh   <span class="comment">#安装ssh服务</span></span><br><span class="line">ssh-keygen -t rsa -C <span class="string">"youremail@example.com"</span>    <span class="comment">#邮箱同上，一路按Enter</span></span><br><span class="line"><span class="built_in">cd</span> ~/.ssh   <span class="comment">#进入.ssh隐藏文件夹</span></span><br><span class="line">gedit id_rsa.pub       <span class="comment">#打开公钥并复制id_rsa.pub文件中的内容</span></span><br></pre></td></tr></table></figure>

<p>进入你自己的<a href="https://github.com" rel="external nofollow noopener noreferrer" target="_blank">github</a><br>进入<code>Settings</code> -&gt; <code>SSH and GPG keys</code> -&gt; <code>New SSH key</code><br>新建一个key，名字随便，把复制的内容粘贴上去  </p>
<h5 id="安装Node-js及npm包"><a href="#安装Node-js及npm包" class="headerlink" title="安装Node.js及npm包"></a>安装Node.js及npm包</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">yay -S nodejs npm       <span class="comment">#安装</span></span><br><span class="line">  </span><br><span class="line">node -v     <span class="comment">#查看node.js版本</span></span><br><span class="line">npm -v      <span class="comment">#查看npm版本</span></span><br><span class="line"></span><br><span class="line">sudo npm config <span class="built_in">set</span> registry https://registry.npm.taobao.org    <span class="comment">#更换npn镜像为淘宝镜像</span></span><br><span class="line">sudo npm config list    <span class="comment">#查看下配置是否生效</span></span><br></pre></td></tr></table></figure>


<h4 id="建立博客文件夹"><a href="#建立博客文件夹" class="headerlink" title="建立博客文件夹"></a>建立博客文件夹</h4><p>手动创建一个文件夹，示例：<code>hexoblog</code>  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo init hexoblog    <span class="comment">#初始化文件夹</span></span><br><span class="line"><span class="built_in">cd</span> hexoblog   <span class="comment">#进入文件夹</span></span><br><span class="line">npm install <span class="comment">#安装必备的hexo组件</span></span><br></pre></td></tr></table></figure>

<p>然后可以看到文件夹中自动生成了一些文件  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── _config.yml     <span class="comment">#网站的配置信息，您可以在此配置参数</span></span><br><span class="line">├── node_modules    <span class="comment">#npm安装的所有程序包</span></span><br><span class="line">├── package.json    <span class="comment">#npm安装的应用程序的信息</span></span><br><span class="line">├── package-lock.json   <span class="comment">#针对和package.json中的应用程序提供更多详细信息</span></span><br><span class="line">├── scaffolds       <span class="comment">#文章模版文件夹</span></span><br><span class="line">├── <span class="built_in">source</span>          <span class="comment">#资源文件夹，以下划线开头的文件/文件夹会被忽略</span></span><br><span class="line">|   ├── _drafts</span><br><span class="line">|   └── _posts</span><br><span class="line">├── themes          <span class="comment">#主题文件夹，Hexo会根据主题来生成网页</span></span><br><span class="line">|   └── landscape   <span class="comment">#原始的hexo默认主题</span></span><br><span class="line">├── yarn-error.log  <span class="comment">#日志文件</span></span><br><span class="line">└── .gitignore      <span class="comment">#忽略文件，用于配置忽略条件</span></span><br></pre></td></tr></table></figure>

<p>接下来运行以下两个命令，查看效果  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo g  <span class="comment">#生成静态网页</span></span><br><span class="line">hexo s  <span class="comment">#打开本地服务器</span></span><br></pre></td></tr></table></figure>

<p>生成的静态文件会存放在<code>hexoblog</code>下的<code>public</code>文件夹中，每次生成，里面的文件会替换掉原来的文件<br>然后终端会提示打开 <a href="http://localhost:4000" rel="external nofollow noopener noreferrer" target="_blank">http://localhost:4000</a> 预览效果，使用浏览器打开可以看到，<strong>好丑好丑</strong>，是不是？  </p>
<h4 id="更换主题"><a href="#更换主题" class="headerlink" title="更换主题"></a>更换主题</h4><p>由于默认的 hexo 主题<code>landscape</code>实在太丑了，所以我们可以去 <a href="https://hexo.io/themes/" rel="external nofollow noopener noreferrer" target="_blank">hexo 主题</a>中找一个自己喜欢的主题，例如我用的是 <a href="https://github.com/sabrinaluo/hexo-theme-replica" rel="external nofollow noopener noreferrer" target="_blank">Replica</a> ，一款模范 github 的博客主题，在它的 <code>README.md</code> 文件中已经给出了<a href="https://sabrinaluo.github.io/tech/" rel="external nofollow noopener noreferrer" target="_blank">效果预览</a>，以及相关小部件 <span style="color:#ff0000">(npm应用程序)</span>  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> git@github.com:sabrinaluo/hexo-theme-replica.git themes/replica     <span class="comment">#将主题克隆到主题文件夹</span></span><br></pre></td></tr></table></figure>

<p>在 <code>hexoblog</code>(项目根目录) 的 <code>_config.yml</code> 中指定主题为 <code>replica</code>  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">theme: replica</span><br></pre></td></tr></table></figure>

<p>它还提供了一个 <code>_config.yml</code> 模板文件，我们就用它这个替换掉原来的 <code>_config.yml</code> 中的内容，<code>_config.yml</code> 文件如下  </p>
<details>
<summary>_config.yml 模板文件</summary>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Hexo Configuration</span></span><br><span class="line"><span class="comment">## Docs: http://hexo.io/docs/configuration.html</span></span><br><span class="line"><span class="comment">## Source: https://github.com/hexojs/hexo/</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Site</span></span><br><span class="line">title: TEAPER       <span class="comment">#网页title标题栏</span></span><br><span class="line">description: 一个人学会思考，比学会啥都强！     <span class="comment">#网站描述</span></span><br><span class="line">author: teaper      <span class="comment">#您的名字</span></span><br><span class="line">language: zh-CN     <span class="comment">#网站使用的语言</span></span><br><span class="line">timezone: Asia/Shanghai     <span class="comment">#网站时区。Hexo 默认使用您电脑的时区</span></span><br><span class="line">favicon: https://avatars2.githubusercontent.com/u/37693348?s=460&amp;v=4        <span class="comment">#网站标题栏logo</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># URL</span></span><br><span class="line"><span class="comment">## If your site is put in a subdirectory, set url as 'http://yoursite.com/child' and root as '/child/'</span></span><br><span class="line">url: https://www.teaper.dev     <span class="comment">#网址</span></span><br><span class="line">root: /         <span class="comment">#网站根目录	</span></span><br><span class="line">permalink: :year/:month/:day/:title/    <span class="comment">#文章的网址链接格式</span></span><br><span class="line">permalink_defaults:     <span class="comment">#永久链接中各部分的默认值</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Directory</span></span><br><span class="line">source_dir: <span class="built_in">source</span>      <span class="comment">#资源文件夹，这个文件夹用来存放内容</span></span><br><span class="line">public_dir: public      <span class="comment">#公共文件夹，这个文件夹用于存放生成的站点文件</span></span><br><span class="line">tag_dir: tags           <span class="comment">#标签文件夹</span></span><br><span class="line">archive_dir: archives       <span class="comment">#归档文件夹</span></span><br><span class="line">category_dir: categories        <span class="comment">#分类文件夹</span></span><br><span class="line">code_dir: downloads/code        <span class="comment">#Include code 文件夹</span></span><br><span class="line">i18n_dir: :lang     <span class="comment">#国际化（i18n）文件夹</span></span><br><span class="line">skip_render:        <span class="comment">#跳过指定文件的渲染，您可使用 glob 表达式来匹配路径</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Writing</span></span><br><span class="line">new_post_name: :year:month:day-:title.md    <span class="comment">#新文章的文件名称格式</span></span><br><span class="line">default_layout: post        <span class="comment">#预设布局</span></span><br><span class="line">titlecase: <span class="literal">false</span>        <span class="comment">#把标题转换为 title case     </span></span><br><span class="line">external_link: <span class="literal">true</span>     <span class="comment">#在新标签中打开链接</span></span><br><span class="line">filename_case: 0        <span class="comment">#把文件名称转换为 (1) 小写或 (2) 大写</span></span><br><span class="line">render_drafts: <span class="literal">false</span>        <span class="comment">#是否显示草稿</span></span><br><span class="line">post_asset_folder: <span class="literal">false</span>    <span class="comment">#启动 Asset 文件夹</span></span><br><span class="line">relative_link: <span class="literal">false</span>        <span class="comment">#把链接改为与根目录的相对位址</span></span><br><span class="line">future: <span class="literal">true</span>        <span class="comment">#显示未来的文章</span></span><br><span class="line">highlight:      <span class="comment">#代码块的设置</span></span><br><span class="line">  <span class="built_in">enable</span>: <span class="literal">true</span></span><br><span class="line">  line_number: <span class="literal">true</span></span><br><span class="line">  auto_detect: <span class="literal">false</span></span><br><span class="line">  tab_replace:</span><br><span class="line"></span><br><span class="line"><span class="comment"># Category &amp; Tag</span></span><br><span class="line">default_category: uncategorized     <span class="comment">#默认分类</span></span><br><span class="line">category_map:       <span class="comment">#分类别名</span></span><br><span class="line">tag_map:        <span class="comment">#标签别名</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Date / Time format</span></span><br><span class="line"><span class="comment">## Hexo uses Moment.js to parse and display date</span></span><br><span class="line"><span class="comment">## You can customize the date format as defined in</span></span><br><span class="line"><span class="comment">## http://momentjs.com/docs/#/displaying/format/</span></span><br><span class="line">date_format: YYYY-MM-DD     <span class="comment">#日期格式</span></span><br><span class="line">time_format: HH:mm:ss       <span class="comment">#时间格式</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Pagination</span></span><br><span class="line"><span class="comment">## Set per_page to 0 to disable pagination</span></span><br><span class="line">per_page: 0     <span class="comment">#每页显示的文章量 (0 = 关闭分页功能)</span></span><br><span class="line">pagination_dir: page        <span class="comment">#分页目录</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Extensions</span></span><br><span class="line"><span class="comment">## Plugins: http://hexo.io/plugins/</span></span><br><span class="line"><span class="comment">## Themes: http://hexo.io/themes/</span></span><br><span class="line">theme: replica      <span class="comment">#要使用的主题</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Deployment</span></span><br><span class="line"><span class="comment">## Docs: http://hexo.io/docs/deployment.html</span></span><br><span class="line">deploy:     <span class="comment">#部署部分的设置</span></span><br><span class="line">  <span class="built_in">type</span>: git</span><br><span class="line">  repo: git@github.com:teaper/hexoblog.git</span><br><span class="line">  branch: gh-pages</span><br><span class="line"></span><br><span class="line"><span class="comment"># Google Analytics</span></span><br><span class="line">ga: UA-140493383-1 <span class="comment"># GA code UA-XXXXXXXX-X</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#marked setting for markdown</span></span><br><span class="line">marked:</span><br><span class="line">  gfm: <span class="literal">true</span></span><br><span class="line">  pedantic: <span class="literal">false</span></span><br><span class="line">  sanitize: <span class="literal">false</span></span><br><span class="line">  tables: <span class="literal">true</span></span><br><span class="line">  breaks: <span class="literal">true</span></span><br><span class="line">  smartLists: <span class="literal">true</span></span><br><span class="line">  smartypants: <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">gcs: 014633199185561276043:bpv9wnr4qhc <span class="comment"># GOOGLE CUSTOM SEARCH</span></span><br><span class="line">baidutongji:  <span class="comment"># BAIDU TONGJI CODE</span></span><br><span class="line">disqus: teaperdev</span><br><span class="line"></span><br><span class="line">location: 广州      <span class="comment">#地址</span></span><br><span class="line">email: www@teaper.dev       <span class="comment">#邮箱</span></span><br><span class="line"></span><br><span class="line">avatar: https://avatars2.githubusercontent.com/u/37693348?s=460&amp;v=4     <span class="comment">#头像</span></span><br><span class="line">social:         <span class="comment">#图标链接</span></span><br><span class="line">  github: https://github.com/teaper     </span><br><span class="line">  weibo: https://www.weibo.com/5806191772</span><br><span class="line">  linkedin: https://twitter.com/TEAPERS</span><br><span class="line"></span><br><span class="line"><span class="comment"># flagcounter 收集来自世界各地的旗帜（我博客最下方的国旗）,注册成功提供以下参数</span></span><br><span class="line">flagcounter_href: https://info.flagcounter.com/MrmG </span><br><span class="line">flagcounter_img_src: https://s04.flagcounter.com/count2/MrmG/bg_FFFFFF/txt_6A737D/border_FFFFFF/columns_7/maxflags_14/viewers_3/labels_1/pageviews_1/flags_0/percent_0/ </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># RSS  ---------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Nofollow Config</span></span><br><span class="line">nofollow:</span><br><span class="line">     <span class="built_in">enable</span>: <span class="literal">true</span></span><br><span class="line">     exclude: https://github.com/teaper </span><br><span class="line"></span><br><span class="line"><span class="comment"># SiteMap</span></span><br><span class="line">sitemap:</span><br><span class="line">    path: sitemap.xml</span><br><span class="line">baidusitemap:</span><br><span class="line">    path: baidusitemap.xml</span><br></pre></td></tr></table></figure>

</details>

<p>具体的参数信息，可以参考 <a href="https://hexo.io/zh-cn/docs/configuration" rel="external nofollow noopener noreferrer" target="_blank">hexo配置</a>，我们在其基础上改改，然后重新运行一下  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo cl  <span class="comment">#清除原来生成在public文件夹中的网页文件</span></span><br><span class="line">hexo g &amp;&amp; hexo s    <span class="comment">#重新生成文件以及启动服务</span></span><br></pre></td></tr></table></figure>

<p>可以看到效果如下  </p>
<p><img src="https://i.loli.net/2019/05/29/5cee92d3321bd20362.png" alt></p>
<p>但是有一些小问题，例如：  </p>
<blockquote>
<p>菜单栏：类别Categories、标签Tag、RSS都不能用<br>Social Media下面我不要Linkedin  </p>
</blockquote>
<h5 id="解决类别Categories、标签Tag不能用问题？"><a href="#解决类别Categories、标签Tag不能用问题？" class="headerlink" title="解决类别Categories、标签Tag不能用问题？"></a>解决类别Categories、标签Tag不能用问题？</h5><p>在<code>source</code>文件夹下创建以下文件以及文件夹  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── categories      <span class="comment">#文件夹</span></span><br><span class="line">│   └── index.md        <span class="comment">#文件</span></span><br><span class="line">└── tags</span><br><span class="line">    └── index.md</span><br></pre></td></tr></table></figure>

<p>其中<code>categories/index.md</code>内容如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: categories</span><br><span class="line">date: 2016-01-21 18:46:15</span><br><span class="line">---</span><br></pre></td></tr></table></figure>

<p>其中<code>tags/index.md</code>内容如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: tags</span><br><span class="line">date: 2016-01-21 18:45:55</span><br><span class="line">---</span><br></pre></td></tr></table></figure>

<p>重新运行<code>hexo g &amp;&amp; hexo s</code>命令之后，就可以使用了，但是没有一个标签/分类  </p>
<h5 id="如何添加分类-标签"><a href="#如何添加分类-标签" class="headerlink" title="如何添加分类/标签"></a>如何添加分类/标签</h5><p>查看 <code>_config.yml</code> 中的 <code>default_layout:</code> 参数，上方模板中的是 <code>post</code>，那么就在模板文件夹 <code>scaffolds</code> 中修改 <code>post.md</code> 文件，添加<code>categories:</code>和<code>tags:</code>两个模块  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: &#123;&#123; title &#125;&#125;</span><br><span class="line">date: &#123;&#123; date &#125;&#125;</span><br><span class="line">categories: </span><br><span class="line">tags: </span><br><span class="line">---</span><br></pre></td></tr></table></figure>

<p>在创建博客文件的时候就会套用这个模板，给<code>categories:</code>和<code>tags:</code>两个模块填入参数即可  </p>
<h4 id="新建博文"><a href="#新建博文" class="headerlink" title="新建博文"></a>新建博文</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo new helloHexo      <span class="comment">#创建一篇博文</span></span><br><span class="line"><span class="comment">#----------------------------输出提示--------------------------------------</span></span><br><span class="line">INFO  Created: ~/Downloads/hexoblog/<span class="built_in">source</span>/_posts/20190529-helloHexo.md <span class="comment">#提示创建的文件在这个路径</span></span><br></pre></td></tr></table></figure>

<p>使用 <code>gedit</code> 编辑这个文件，随便写点东西，再加个分类和标签  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 你好，Hexo</span><br><span class="line">date: 2019-05-29 22:37:20</span><br><span class="line">categories: [hexo]</span><br><span class="line">tags: [hexo,markdown,github]</span><br><span class="line">---</span><br><span class="line"><span class="comment">## Hexo＋Github搭建静态博客</span></span><br></pre></td></tr></table></figure>

<p>注意，分类(categories) 只能有一个，写在<code>[]</code>中，标签 <code>tags</code> 可以有多个，中间用英文逗号隔开，保存后运行 <code>hexo g &amp;&amp; hexo s</code> 重新生成文件即可看到效果  </p>
<p>注意：修改博客直接编辑<code>.md</code>文件，之后一定要先运行 <code>hexo g</code> 之后才能运行 <code>hexo cl</code> 清除缓存</p>
<h4 id="添加RSS"><a href="#添加RSS" class="headerlink" title="添加RSS"></a>添加RSS</h4><p>解决菜单栏 <code>RSS</code> 不能使用的问题，首先安装 <code>hexo-generator-feed</code> 包</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-feed</span><br><span class="line">hexo g  <span class="comment">#生成文件</span></span><br></pre></td></tr></table></figure>

<p>可以看到，在<code>public</code>文件夹中多了一个<code>atom.xml</code>文件；然后在<code>_config.yml</code>文件中配置该插件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># RSS</span></span><br><span class="line">feed:</span><br><span class="line">    <span class="built_in">type</span>: atom</span><br><span class="line">    path: atom.xml</span><br><span class="line">    <span class="built_in">limit</span>: 20</span><br><span class="line">    hub:</span><br><span class="line">    content:</span><br><span class="line">    content_limit:</span><br><span class="line">    content_limit_delim: <span class="string">' '</span></span><br></pre></td></tr></table></figure>

<p>重新运行 <code>hexo g &amp;&amp; hexo s</code> 命令就可以看到效果了，单击会在浏览器中打开 <code>atom.xml</code> 文件，如果想订阅别人的 RSS ，可以参考——<a href="https://juejin.im/post/5c382a326fb9a049f15469eb" rel="external nofollow noopener noreferrer" target="_blank">【如何用RSS订阅？】</a>  </p>
<h4 id="部署博客"><a href="#部署博客" class="headerlink" title="部署博客"></a>部署博客</h4><p>安装 <code>hexo-deployer-git</code> 包 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git  #git部署插件</span><br></pre></td></tr></table></figure>

<p>然后在<code>_config.yml</code>文件中配置该插件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Deployment</span></span><br><span class="line"><span class="comment">## Docs: http://hexo.io/docs/deployment.html</span></span><br><span class="line">deploy:</span><br><span class="line">  <span class="built_in">type</span>: git     </span><br><span class="line">  repo: https://github.com/teaper/hexoblog.git      <span class="comment">#github public仓库地址，没有的话去github创建一个</span></span><br><span class="line">  branch: gh-pages      <span class="comment">#要部署到仓库的分支，master分支用来存md文件</span></span><br></pre></td></tr></table></figure>

<p>然后就可以使用以下命令一键上线  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo d  <span class="comment">#一键部署</span></span><br></pre></td></tr></table></figure>

<p>部署成功，在 <code>hexoblog</code> 仓库设置中，找到 <a href>Github Pages</a> ,选择 <code>gh-pages</code> 分支作为主页，然后勾选 <code>Enfore HTTPS</code> 复选框，上面会提示一个地址  Your site is published at <a href="https://www.teaper.dev/">https://www.teaper.dev/</a> 可以打开预览效果 <span style="color:#ff0000">(开心吧？快给点掌声)</span> </p>
<p><img src="https://i.loli.net/2019/05/29/5cee9ff324f4e50085.png" alt></p>
<p>可能你已经发现了，我的地址不一样，是自定义的域名<code>teaper.dev</code>，这就是我接下来要说的  </p>
<h4 id="自定义域名"><a href="#自定义域名" class="headerlink" title="自定义域名"></a>自定义域名</h4><p>我这个<code>.dev</code>的域名是谷歌美国时间2019年2月19日开始开放注册，<a href="https://www.aliyun.com" rel="external nofollow noopener noreferrer" target="_blank">阿里云</a>注册不到，你可以在<a href="https://domains.google/tld/dev/" rel="external nofollow noopener noreferrer" target="_blank">Google Domains</a>或<a href="https://account.godaddy.com" rel="external nofollow noopener noreferrer" target="_blank">Godaddy</a>注册，当然，你也可以在阿里云注册其他顶级域名  </p>
<blockquote>
<p>提示：我是Godaddy注册的，解析 A 记录到阿里云轻量服务器的时候会有问题  </p>
</blockquote>
<p>购买好域名后，在 DNS 处添加解析，相关信息如下  </p>
<table>
<thead>
<tr>
<th>类型</th>
<th>名称</th>
<th>值</th>
<th>TTL</th>
</tr>
</thead>
<tbody><tr>
<td>CNAME</td>
<td>www</td>
<td>teaper.github.io</td>
<td>1 小时</td>
</tr>
</tbody></table>
<p>名称 <code>www</code>会称为子域名<code>www.teaper.dev</code>，值填写你 <code>Github Page</code> 最后提示的网址前部分，<code>teaper.github.io</code>中的<code>teaper</code>是我github用户名，你对应的就是你自己的用户名  </p>
<p>到此为止，输入 <a href="http://www.teaper.dev">http://www.teaper.dev</a> 就会自动去找 github 服务器，但是github服务器找不到我们的博客位置，这时候就需要在 <code>hexoblog/public</code> 下创建一个 <code>CNAME</code> 文件标记博客地址，填入你要显示的子域名  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">www.teaper.dev</span><br></pre></td></tr></table></figure>

<p>最后，重新使用 <code>hexo d</code> 命令提交到 github 即可使用自定义域名访问  </p>
<h4 id="站点地图"><a href="#站点地图" class="headerlink" title="站点地图"></a>站点地图</h4><p>站点地图是提供给搜索引擎快速收录网站信息用的，里面包含了该网站所有可访问的网址链接，这里我们一般就使用谷歌和百度  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-sitemap --save   <span class="comment">#谷歌</span></span><br><span class="line">npm install hexo-generator-baidu-sitemap --save     <span class="comment">#百度</span></span><br></pre></td></tr></table></figure>

<p>在<code>_config.yml</code>中添加以下配置  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># SiteMap</span><br><span class="line">sitemap:</span><br><span class="line">    path: sitemap.xml</span><br><span class="line">baidusitemap:</span><br><span class="line">    path: baidusitemap.xml</span><br></pre></td></tr></table></figure>

<p>使用<code>hexo g &amp;&amp; hexo s</code>之后，会看到 <code>public</code> 文件夹下多出了<code>sitemap.xml</code>和<code>baidusitemap.xml</code>这两个文件，使用 <code>hexo d</code> 将它们提交到 <code>github</code><br>在地址栏输入<a href="http://www.teaper.dev／sitemap.xml" rel="external nofollow noopener noreferrer" target="_blank">http://www.teaper.dev／sitemap.xml</a>和<a href="http://www.teaper.dev／baidusitemap.xml" rel="external nofollow noopener noreferrer" target="_blank">http://www.teaper.dev／baidusitemap.xml</a>可以看到文件就成功了  </p>
<p><strong>谷歌</strong>去 <a href="https://search.google.com/search-console" rel="external nofollow noopener noreferrer" target="_blank">Search Console</a>添加一个资源，名称就是 <a href="www.teaper.dev">www.teaper.dev</a> ，点击左侧列表中的<strong>站点地图</strong>，添加新的站点，输入站点文件的位置 <code>http://www.teaper.dev/sitemap.xml</code> ，注意不是 https 哦！提交之后谷歌会抓取，一天之后会有结果的～  </p>
<p><strong>百度</strong>去<a href="https://link.jianshu.com/?t=http://zhanzhang.baidu.com/dashboard/index" rel="external nofollow noopener noreferrer" target="_blank">百度站长平台</a>注册一个账号，然后需要使用 DNS 解析验证以下网站所有权，然后也是添加站点，指定站点地图文件的网址，由于百度实在垃圾，收录不到 github 的站点信息，所以我就不写了  </p>
<p><img src="https://i.loli.net/2019/05/30/5ceeb0550664b92514.png" alt>  </p>
<h4 id="谷歌自定义搜索"><a href="#谷歌自定义搜索" class="headerlink" title="谷歌自定义搜索"></a>谷歌自定义搜索</h4><p>进入<a href="https://link.juejin.im/?target=https%3A%2F%2Fcse.google.com%2F" rel="external nofollow noopener noreferrer" target="_blank">谷歌自定义搜索</a>，然后新增一个搜索引擎，输入 <code>www.teaper.dev</code> ，搜索引擎名称也叫 <code>www.teaper.dev</code> ；然后在<strong>修改搜索引擎</strong>中的设置选项卡，添加你要搜索的网址，最少写个 <code>https://www.teaper.dev</code> 吧，其他的留给你自己折腾  </p>
<h4 id="Google-Analytics分析"><a href="#Google-Analytics分析" class="headerlink" title="Google Analytics分析"></a>Google Analytics分析</h4><p>主要是为了统计数一下网址的浏览量和阅读量<br><a href="https://analytics.google.com" rel="external nofollow noopener noreferrer" target="_blank">Google Analytics</a>注册一个账号，然后创建资源和媒体，添加网址，成功之后可以看到一个 <code>UA-140493383-1</code> 的 <code>GA Code</code> </p>
<p><img src="http://ww1.sinaimg.cn/large/006kWbIoly1g3inq43qlnj30my06ajry.jpg" alt></p>
<p>将它配置在 <code>_config.yml</code> 中即可</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># Google Analytics</span><br><span class="line">ga: UA-140493383-1</span><br></pre></td></tr></table></figure>

<p>追进程序代码可以不用写，因为 <code>hexoblog/themes/replica/layout/_partial/head.ejs</code>中已经有以下这段代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;%- partial(&apos;_widget/google-analytics&apos;) %&gt;</span><br></pre></td></tr></table></figure>


<h4 id="Live2D-血小板"><a href="#Live2D-血小板" class="headerlink" title="Live2D 血小板"></a>Live2D 血小板</h4><p>进入<code>hexoblog/themes/replica/source</code>主题文件夹，克隆<a href="https://github.com/JIAOBANTANG/live2d-xuexiaoban" rel="external nofollow noopener noreferrer" target="_blank">血小板</a>项目源码  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone git@github.com:JIAOBANTANG/live2d-xuexiaoban.git</span><br></pre></td></tr></table></figure>

<p>会有一个 <code>live2d</code> 文件夹和一个 <code>index.html</code> 文件，我们要做的就是把 <code>index.html</code> 中的内容写入到对应模板文件中  </p>
<p>在<code>themes/replica/layout/_partial/head.ejs</code>中引入css样式</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"&lt;%= config.root %&gt;live2d/css/live2d.css"</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>在<code>head.ejs</code>同级的<code>footer.ejs</code>中的Body标签内<span style="color:#ff0000">(最外层)</span>追加以下 div 块  </p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Live2D血小板 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"landlord"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"message"</span> <span class="attr">style</span>=<span class="string">"opacity:0"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">"live2d"</span> <span class="attr">width</span>=<span class="string">"560"</span> <span class="attr">height</span>=<span class="string">"500"</span> <span class="attr">class</span>=<span class="string">"live2d"</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &lt;div class="hide-button"&gt;隐藏&lt;/div&gt; --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcss.com/jquery/2.2.4/jquery.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">    var message_Path = '/live2d/'</span></span><br><span class="line"><span class="undefined">    var home_Path = 'https://www.teaper.dev/'</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/live2d/js/live2d.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/live2d/js/message.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">    loadlive2d("live2d", "/live2d/model/xiaoban/model.json");</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>使用 <code>hexo g &amp;&amp; hexo s</code> 重新生成文件后就可以看到效果了，有没有小激动啊？嘤嘤嘤～～～</p>
<h4 id="音乐控件"><a href="#音乐控件" class="headerlink" title="音乐控件"></a>音乐控件</h4><p>使用jQuery音乐插件<a href="http://www.jq22.com/demo/QPlayer-master20170104/" rel="external nofollow noopener noreferrer" target="_blank">QPlayer</a>，找到它的<a href="https://github.com/Jrohy/QPlayer" rel="external nofollow noopener noreferrer" target="_blank">github</a>地址，将其克隆到电脑上 <span style="color:#ff0000">(随便一个地方，只要不在 hexoblog 中就行)<span>  </span></span></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> git@github.com:Jrohy/QPlayer.git</span><br></pre></td></tr></table></figure>

<p>进入文件夹，可以看到有这些文件  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── css</span><br><span class="line">│   └── player.css  <span class="comment">#播放器样式</span></span><br><span class="line">├── img</span><br><span class="line">│   ├── 2.png       <span class="comment">#上/下一曲按钮</span></span><br><span class="line">│   └── audio_sprite.png        <span class="comment">#其他按钮</span></span><br><span class="line">├── index.html  <span class="comment">#演示页面（需要使用Firefox打开）</span></span><br><span class="line">├── js</span><br><span class="line">│   ├── jquery.marquee.min.js   <span class="comment">#不明</span></span><br><span class="line">│   ├── jquery.min.js   <span class="comment">#普通jquery</span></span><br><span class="line">│   └── player.js   <span class="comment">#播放器功能实现</span></span><br><span class="line">└── README.md   <span class="comment">#没啥用的</span></span><br></pre></td></tr></table></figure>

<p>经过一段时间的兼容性比对，确定没问题之后，我决定使用以下方案：  </p>
<p>将<code>player.css</code>复制到<code>hexoblog/themes/replica/source/css</code>中  
将<code>img</code>文件夹整个复制到<code>hexoblog/themes/replica/source</code>中  
将<code>jquery.marquee.min.js</code>和<code>player.js</code>复制到<code>hexoblog/themes/replica/source/js</code>中 <span style="color:#ff0000">(jquery.min.js就不要了)</span>  </p>
<p>将<code>index.html</code>中的以下<code>&lt;script&gt;&lt;/script&gt;</code>部分全部拷贝，粘贴在新建的<code>hexoblog/themes/replica/source/js/playlist.js</code>中，然后html上使用 src 引入该 js 文件  </p>
<p>由于它自带的这些音乐列表无法使用，所以我把我的分享出来  </p>
<details>
<summary>我的playlist.js歌单列表</summary>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">var</span> playlist = [</span><br><span class="line">&#123;<span class="attr">title</span>:<span class="string">"Lovely Day"</span>,<span class="attr">artist</span>:<span class="string">"朴信惠"</span>,<span class="attr">mp3</span>:<span class="string">"http://fs.open.kugou.com/2925e0aa5e1dbbac899c4dc95661bad6/5ceb6418/G006/M07/1C/18/poYBAFS5wk6AXMkqADCFZFnRisU820.mp3"</span>,<span class="attr">cover</span>:<span class="string">"http://singerimg.kugou.com/uploadpic/pass/softhead/100/20170711/20170711145703533.jpg?param=106x106"</span>,&#125;,</span><br><span class="line">&#123;<span class="attr">title</span>:<span class="string">"起风了"</span>,<span class="attr">artist</span>:<span class="string">"买辣椒也用券"</span>,<span class="attr">mp3</span>:<span class="string">"http://fs.open.kugou.com/d6cde41d2513b5d55822d9b736f069d5/5ceb64f5/G117/M04/09/11/VZQEAFyLqDSAMZdUAEimgFeiNtg723.mp3"</span>,<span class="attr">cover</span>:<span class="string">"http://p2.music.126.net/diGAyEmpymX8G7JcnElncQ==/109951163699673355.jpg?param=106x106"</span>,&#125;,</span><br><span class="line">&#123;<span class="attr">title</span>:<span class="string">"心如止水"</span>,<span class="attr">artist</span>:<span class="string">"Ice Paper"</span>,<span class="attr">mp3</span>:<span class="string">"http://fs.open.kugou.com/b3f975be33635ba5306f0487ddbc0074/5ceb64d3/G117/M08/13/1F/tQ0DAFx5A3uAfPOBAC1GYIo2lU0616.mp3"</span>,<span class="attr">cover</span>:<span class="string">"http://p1.music.126.net/MLQl_7poLz2PTON6_JZZRQ==/109951163938219545.jpg?param=106x106"</span>,&#125;,</span><br><span class="line">&#123;<span class="attr">title</span>:<span class="string">"临安初雨"</span>,<span class="attr">artist</span>:<span class="string">"小旭音乐"</span>,<span class="attr">mp3</span>:<span class="string">"http://fs.open.kugou.com/f059a518f3a31cd91be1aaf3070ccae9/5ceb5466/G012/M02/09/04/rIYBAFUJqVSAfHZcAB13gGBS5S4671.mp3"</span>,<span class="attr">cover</span>:<span class="string">"http://singerimg.kugou.com/uploadpic/pass/softhead/100/20130531/20130531162457903.jpg?param=106x106"</span>,&#125;,</span><br><span class="line">&#123;<span class="attr">title</span>:<span class="string">"一百万个可能"</span>,<span class="attr">artist</span>:<span class="string">"Christine Welch"</span>,<span class="attr">mp3</span>:<span class="string">"http://fs.open.kugou.com/7b0fea66de0212e7f36c0557b4a54f0d/5ceb550a/G001/M01/1D/1D/QQ0DAFSNgAeAPiAIAENKHp_Pbbw776.mp3"</span>,<span class="attr">cover</span>:<span class="string">"https://y.gtimg.cn/music/photo_new/T002R300x300M000004IWoIx34J0fT.jpg?param=106x106"</span>,&#125;,</span><br><span class="line">&#123;<span class="attr">title</span>:<span class="string">"神谕法则"</span>,<span class="attr">artist</span>:<span class="string">"SING女团"</span>,<span class="attr">mp3</span>:<span class="string">"http://fs.open.kugou.com/1d629a349060ed2fbe736d6fa7a34b8a/5ceb567a/G141/M08/0B/10/zQ0DAFujeo2APYF4ADhbc0IcpIY564.mp3"</span>,<span class="attr">cover</span>:<span class="string">"http://singerimg.kugou.com/uploadpic/pass/softhead/100/20190218/20190218200851155.jpg?param=106x106"</span>,&#125;,</span><br><span class="line">&#123;<span class="attr">title</span>:<span class="string">"轮回之境"</span>,<span class="attr">artist</span>:<span class="string">"CRITTY"</span>,<span class="attr">mp3</span>:<span class="string">"http://fs.open.kugou.com/62485366c101badd2b1aa1ba8b5efbd8/5ceb56d5/G013/M01/05/0D/TQ0DAFUKu3GAEIQ5AD1w-bfK0P4695.mp3"</span>,<span class="attr">cover</span>:<span class="string">"http://singerimg.kugou.com/uploadpic/pass/softhead/100/20190322/20190322004553123011.jpg?param=106x106"</span>,&#125;,</span><br><span class="line">&#123;<span class="attr">title</span>:<span class="string">"404 not found"</span>,<span class="attr">artist</span>:<span class="string">"REOL"</span>,<span class="attr">mp3</span>:<span class="string">"http://fs.open.kugou.com/7cab120be79c215f84bb504ddfb95006/5ceb5500/G157/M05/17/13/fZQEAFy4nK6AQzP-ADxLRpnEs6Q820.mp3"</span>,<span class="attr">cover</span>:<span class="string">"http://singerimg.kugou.com/uploadpic/pass/softhead/100/20181226/20181226152454854.jpg?param=106x106"</span>,&#125;,</span><br><span class="line">&#123;<span class="attr">title</span>:<span class="string">"Because of You"</span>,<span class="attr">artist</span>:<span class="string">"Kelly Clarkson"</span>,<span class="attr">mp3</span>:<span class="string">"http://fs.open.kugou.com/5978f3fda40537f06a5f88f9544eba20/5ceb576f/G009/M04/1C/09/qYYBAFT9zkiAGaRUADWa8vjlrM0384.mp3"</span>,<span class="attr">cover</span>:<span class="string">"https://upload.wikimedia.org/wikipedia/en/thumb/c/cb/Because_of_You_Single.PNG/220px-Because_of_You_Single.PNG?param=106x106"</span>,&#125;,</span><br><span class="line">&#123;<span class="attr">title</span>:<span class="string">"China-X"</span>,<span class="attr">artist</span>:<span class="string">"徐梦圆"</span>,<span class="attr">mp3</span>:<span class="string">"http://fs.open.kugou.com/f81d9488f62defdc4a1ae36eeca32124/5ceb5930/G056/M04/1D/10/2IYBAFakY0iAB4D0ADc4AfWXG_g876.mp3"</span>,<span class="attr">cover</span>:<span class="string">"http://singerimg.kugou.com/uploadpic/pass/softhead/100/20170413/20170413190130260.jpg?param=106x106"</span>,&#125;,</span><br><span class="line">&#123;<span class="attr">title</span>:<span class="string">"Cry On My Shoulder"</span>,<span class="attr">artist</span>:<span class="string">"Superstar"</span>,<span class="attr">mp3</span>:<span class="string">"http://fs.open.kugou.com/265c1bdd202e4240f394e1dff6776ad9/5ceb5990/G076/M09/04/17/7IYBAFgullaARyg6ADoevPs0ye4394.mp3"</span>,<span class="attr">cover</span>:<span class="string">"https://i.ytimg.com/vi/46VPqRVD9C8/hqdefault.jpg?param=106x106"</span>,&#125;,</span><br><span class="line">&#123;<span class="attr">title</span>:<span class="string">"I Could Be The One"</span>,<span class="attr">artist</span>:<span class="string">"Donna Lewis"</span>,<span class="attr">mp3</span>:<span class="string">"http://fs.open.kugou.com/f1d0f08b04c35638ef1141097d9ddfdf/5ceb5a01/G008/M07/14/05/SA0DAFUK1DuAPFNoADc38GF12LY937.mp3"</span>,<span class="attr">cover</span>:<span class="string">"http://pic.pimg.tw/locking1218/1387317563-867639266_n.png?param=106x106"</span>,&#125;,</span><br><span class="line">&#123;<span class="attr">title</span>:<span class="string">"Love home"</span>,<span class="attr">artist</span>:<span class="string">"纯音乐"</span>,<span class="attr">mp3</span>:<span class="string">"http://fs.open.kugou.com/d9e6bb48091953cc7b97732c92aafd2d/5ceb5b0a/G060/M01/1F/01/HJQEAFcFCnmAPq5MACZrRhHLltY343.mp3"</span>,<span class="attr">cover</span>:<span class="string">"http://singerimg.kugou.com/uploadpic/pass/softhead/100/20130531/20130531162457903.jpg?param=106x106"</span>,&#125;,</span><br><span class="line">&#123;<span class="attr">title</span>:<span class="string">"Lydia"</span>,<span class="attr">artist</span>:<span class="string">"F.I.R."</span>,<span class="attr">mp3</span>:<span class="string">"http://fs.open.kugou.com/67e04c0b2648bcd8bbd9567e8f2e5cce/5ceb5a12/G009/M03/14/1B/SQ0DAFT7tOSAZfkgADpd7U9r--c363.mp3"</span>,<span class="attr">cover</span>:<span class="string">"http://singerimg.kugou.com/uploadpic/pass/softhead/100/20181219/20181219180413855.jpg?param=106x106"</span>,&#125;,</span><br><span class="line">&#123;<span class="attr">title</span>:<span class="string">"Mermaid girl"</span>,<span class="attr">artist</span>:<span class="string">"森永真由美"</span>,<span class="attr">mp3</span>:<span class="string">"http://fs.open.kugou.com/1de7882c5c53c56f05b20259b877ec6b/5ceb5ca7/G057/M0A/05/13/2YYBAFZ9w6aAckLxACwlF6vARdM570.mp3"</span>,<span class="attr">cover</span>:<span class="string">"http://singerimg.kugou.com/uploadpic/pass/softhead/100/20190114/20190114120339434.jpg?param=106x106"</span>,&#125;,</span><br><span class="line">&#123;<span class="attr">title</span>:<span class="string">"My Love"</span>,<span class="attr">artist</span>:<span class="string">"Westlife"</span>,<span class="attr">mp3</span>:<span class="string">"http://fs.open.kugou.com/f9685fd7284d0c543ebfba327aabc5b8/5ceb59e6/G011/M03/1A/18/q4YBAFUJpaOAP5qMADkJjLkKC14038.mp3"</span>,<span class="attr">cover</span>:<span class="string">"http://singerimg.kugou.com/uploadpic/pass/softhead/100/20190110/20190110173511430.jpg?param=106x106"</span>,&#125;,</span><br><span class="line">&#123;<span class="attr">title</span>:<span class="string">"PLANET"</span>,<span class="attr">artist</span>:<span class="string">"ラムジ"</span>,<span class="attr">mp3</span>:<span class="string">"http://fs.open.kugou.com/fcace83c0b69e90a0967c0301e24c29b/5ceb5d70/G097/M08/03/1B/oQ0DAFkGqw6AdT6_ADtw0uWrvgc250.mp3"</span>,<span class="attr">cover</span>:<span class="string">"http://singerimg.kugou.com/uploadpic/pass/softhead/100/20151219/20151219102713856.jpg?param=106x106"</span>,&#125;,</span><br><span class="line">&#123;<span class="attr">title</span>:<span class="string">"Sakura"</span>,<span class="attr">artist</span>:<span class="string">"いきものがかり"</span>,<span class="attr">mp3</span>:<span class="string">"http://fs.open.kugou.com/b6b3c9825a502250eaefd6603757bd29/5ceb5df5/G015/M09/0B/09/r4YBAFUbB-CAN7FRAFZ5gzCshG0445.mp3"</span>,<span class="attr">cover</span>:<span class="string">"http://singerimg.kugou.com/uploadpic/pass/softhead/100/20160911/20160911161922354.jpg?param=106x106"</span>,&#125;,</span><br><span class="line">&#123;<span class="attr">title</span>:<span class="string">"~君がくれたもの~"</span>,<span class="attr">artist</span>:<span class="string">"茅野愛衣、戸松遥"</span>,<span class="attr">mp3</span>:<span class="string">"http://fs.open.kugou.com/e019ea8d77a3d29b5da4d0284a9d6fa0/5ceb5e49/G012/M05/0E/04/TA0DAFUHca-Afk1DAFYYaiaECms593.mp3"</span>,<span class="attr">cover</span>:<span class="string">"http://singerimg.kugou.com/uploadpic/pass/softhead/100/20150227/20150227114508898329.jpg?param=106x106"</span>,&#125;,</span><br><span class="line">&#123;<span class="attr">title</span>:<span class="string">"Take Me Hand"</span>,<span class="attr">artist</span>:<span class="string">"DAISHI DANCE"</span>,<span class="attr">mp3</span>:<span class="string">"http://fdfs.xmcdn.com/group42/M0B/03/80/wKgJ81rjI5jSyYh7AB--YNV-lLs148.mp3"</span>,<span class="attr">cover</span>:<span class="string">"http://imagev2.xmcdn.com/group42/M0A/F0/1D/wKgJ9Frhz9jzNZANAAA_25jQd_Y118.jpg!op_type=3&amp;columns=640&amp;rows=640?param=106x106"</span>,&#125;,</span><br><span class="line">&#123;<span class="attr">title</span>:<span class="string">"不怨"</span>,<span class="attr">artist</span>:<span class="string">"袁姗姗"</span>,<span class="attr">mp3</span>:<span class="string">"http://fs.open.kugou.com/2711214e5ef74b5bc500480161ecea82/5ceb63d2/G011/M0A/04/15/q4YBAFULdx2AE4H9AENngUa7Wo4830.mp3"</span>,<span class="attr">cover</span>:<span class="string">"http://singerimg.kugou.com/uploadpic/pass/softhead/100/20180913/20180913164746762.jpg?param=106x106"</span>,&#125;,</span><br><span class="line">&#123;<span class="attr">title</span>:<span class="string">"参商"</span>,<span class="attr">artist</span>:<span class="string">"不才"</span>,<span class="attr">mp3</span>:<span class="string">"http://fs.open.kugou.com/c3ced3e8f5053f6b5e89ce33888925a0/5ceb642a/G070/M05/14/19/JpQEAFe1rZCAR9AkAEb7mM3NYbQ587.mp3"</span>,<span class="attr">cover</span>:<span class="string">"http://singerimg.kugou.com/uploadpic/pass/softhead/100/20150821/20150821160527934958.jpg?param=106x106"</span>,&#125;,</span><br><span class="line">&#123;<span class="attr">title</span>:<span class="string">"抽离"</span>,<span class="attr">artist</span>:<span class="string">"徐良、刘丹萌"</span>,<span class="attr">mp3</span>:<span class="string">"http://fs.open.kugou.com/3f0f9ca0256fa4a8ecb41830da96dc0b/5ceb653d/G011/M08/13/01/Sw0DAFUKP6yAJYifAD8vjhnvGXs436.mp3"</span>,<span class="attr">cover</span>:<span class="string">"http://singerimg.kugou.com/uploadpic/pass/softhead/100/20190311/20190311135913203.jpg?param=106x106"</span>,&#125;,</span><br><span class="line">&#123;<span class="attr">title</span>:<span class="string">"渡情"</span>,<span class="attr">artist</span>:<span class="string">"鞠婧祎"</span>,<span class="attr">mp3</span>:<span class="string">"http://fs.open.kugou.com/896dfc68690ed5ba3b64fd15e8315377/5ceb6637/G158/M08/1C/11/PocBAFyh1vGAYZuyACiPb1k99KI437.mp3"</span>,<span class="attr">cover</span>:<span class="string">"http://singerimg.kugou.com/uploadpic/pass/softhead/100/20190110/20190110174817500.jpg?param=106x106"</span>,&#125;,</span><br><span class="line">&#123;<span class="attr">title</span>:<span class="string">"诀别诗"</span>,<span class="attr">artist</span>:<span class="string">"胡彦斌"</span>,<span class="attr">mp3</span>:<span class="string">"http://fs.open.kugou.com/a3bcceb8c79bf85be0abbf5a63918ebc/5ceb6587/G007/M02/13/18/p4YBAFS4GimAK4jGADw8R0t4sj8307.mp3"</span>,<span class="attr">cover</span>:<span class="string">"http://singerimg.kugou.com/uploadpic/pass/softhead/100/20170921/20170921171126282.jpg?param=106x106"</span>,&#125;,</span><br><span class="line">&#123;<span class="attr">title</span>:<span class="string">"七秀坊"</span>,<span class="attr">artist</span>:<span class="string">"月之门"</span>,<span class="attr">mp3</span>:<span class="string">"http://fs.open.kugou.com/04cb4548a0ec4ad79feaad68a4084f3c/5ceb66c5/G009/M08/15/17/qYYBAFUPfnWAM9_tAD79Msb3GDk803.mp3"</span>,<span class="attr">cover</span>:<span class="string">"http://singerimg.kugou.com/uploadpic/pass/softhead/100/20150716/20150716204240137592.jpg?param=106x106"</span>,&#125;,</span><br><span class="line">&#123;<span class="attr">title</span>:<span class="string">"City"</span>,<span class="attr">artist</span>:<span class="string">"羽肿"</span>,<span class="attr">mp3</span>:<span class="string">"http://www.170hi.com/kw/other.web.nf01.sycdn.kuwo.cn/resource/n2/32/74/1955672015.mp3"</span>,<span class="attr">cover</span>:<span class="string">"https://images.shazam.com/coverart/t446909531-b1440714641_s400.jpg?param=106x106"</span>,&#125;,</span><br><span class="line">&#123;<span class="attr">title</span>:<span class="string">"さくら~あなたに"</span>,<span class="attr">artist</span>:<span class="string">"兰草薄荷"</span>,<span class="attr">mp3</span>:<span class="string">"http://fs.open.kugou.com/1a703819efa017badd4d83f1c71ec749/5cec9b2f/G110/M04/0C/03/TpQEAFl2WkSARXuyAEkReouicLU314.mp3"</span>,<span class="attr">cover</span>:<span class="string">"https://images-na.ssl-images-amazon.com/images/I/416sZkxLvxL._SX355_.jpg?param=106x106"</span>,&#125;,</span><br><span class="line">&#123;<span class="attr">title</span>:<span class="string">"爱丫爱丫"</span>,<span class="attr">artist</span>:<span class="string">"By2"</span>,<span class="attr">mp3</span>:<span class="string">"http://fs.open.kugou.com/02d2ec41fcdb134f54b3c2636f19b85f/5cec9b8e/G010/M05/12/0F/Sg0DAFUKNk-AZfDxADilOF7pdfM473.mp3"</span>,<span class="attr">cover</span>:<span class="string">"http://singerimg.kugou.com/uploadpic/pass/softhead/100/20170602/20170602141818448.jpg?param=106x106"</span>,&#125;,</span><br><span class="line">&#123;<span class="attr">title</span>:<span class="string">"風の住む街"</span>,<span class="attr">artist</span>:<span class="string">"磯村由紀子"</span>,<span class="attr">mp3</span>:<span class="string">"http://fs.open.kugou.com/59144ec64af815622b3df4554a0c68bd/5cec9b46/G012/M05/03/18/TA0DAFUJEmuAPmOxAEXoAIFZ2qs558.mp3"</span>,<span class="attr">cover</span>:<span class="string">"http://singerimg.kugou.com/uploadpic/pass/softhead/100/20150430/20150430163440818299.jpg?param=106x106"</span>,&#125;,</span><br><span class="line">&#123;<span class="attr">title</span>:<span class="string">"该怎么"</span>,<span class="attr">artist</span>:<span class="string">"楼一萱"</span>,<span class="attr">mp3</span>:<span class="string">"http://fs.open.kugou.com/1a06cd43353e4746b5dac57c45cc6749/5cec9d49/G114/M09/1C/05/UpQEAFvlVceACD-ZADVdCPwr-iA411.mp3"</span>,<span class="attr">cover</span>:<span class="string">"http://singerimg.kugou.com/uploadpic/pass/softhead/100/20190322/20190322042458484661.jpg?param=106x106"</span>,&#125;,</span><br><span class="line">&#123;<span class="attr">title</span>:<span class="string">"歌に形はないけれど"</span>,<span class="attr">artist</span>:<span class="string">"花たん"</span>,<span class="attr">mp3</span>:<span class="string">"http://fs.open.kugou.com/385ce61a125c8080023133eb57a443c5/5cec9be0/G004/M03/04/11/pIYBAFT9fuKAUY6FAFCQthJknCc986.mp3"</span>,<span class="attr">cover</span>:<span class="string">"http://singerimg.kugou.com/uploadpic/pass/softhead/100/20151219/20151219145533755.jpg?param=106x106"</span>,&#125;,</span><br><span class="line">&#123;<span class="attr">title</span>:<span class="string">"黑白颠倒"</span>,<span class="attr">artist</span>:<span class="string">"夏婉安"</span>,<span class="attr">mp3</span>:<span class="string">"http://fs.open.kugou.com/347ad36442427cf0ecda097f3781b3e3/5cec9e04/G141/M01/1E/0F/LYcBAFufUyCAatIcAD0voHvO4cw539.mp3"</span>,<span class="attr">cover</span>:<span class="string">"http://singerimg.kugou.com/uploadpic/pass/softhead/100/20190417/20190417172223938.jpg?param=106x106"</span>,&#125;,</span><br><span class="line">&#123;<span class="attr">title</span>:<span class="string">"红昭愿"</span>,<span class="attr">artist</span>:<span class="string">"音阙诗听"</span>,<span class="attr">mp3</span>:<span class="string">"http://fs.open.kugou.com/630026d94f59d394b76128295e0f88ee/5cec9b31/G089/M05/0F/18/-YYBAFlqur6AKhY_ACpPcyzNiC0500.mp3"</span>,<span class="attr">cover</span>:<span class="string">"http://singerimg.kugou.com/uploadpic/pass/softhead/100/20170721/20170721162945806.jpg?param=106x106"</span>,&#125;,</span><br><span class="line">&#123;<span class="attr">title</span>:<span class="string">"后会无期"</span>,<span class="attr">artist</span>:<span class="string">"徐良、汪苏泷"</span>,<span class="attr">mp3</span>:<span class="string">"http://fs.open.kugou.com/5501a5fc48fbe9a8d4378f1a174bc1e8/5cec9d0f/G006/M07/14/17/poYBAFS_vVqAUNBEADO387ANGhg481.mp3"</span>,<span class="attr">cover</span>:<span class="string">"http://singerimg.kugou.com/uploadpic/pass/softhead/100/20190311/20190311135913203.jpg?param=106x106"</span>,&#125;,</span><br><span class="line">&#123;<span class="attr">title</span>:<span class="string">"花开半夏"</span>,<span class="attr">artist</span>:<span class="string">"爱朵女孩"</span>,<span class="attr">mp3</span>:<span class="string">"http://fs.open.kugou.com/d5dba4b64ecd202259247ad0a13caf7b/5cec9f28/G011/M03/07/05/q4YBAFT64JeASLqEAC1HoCCRI34922.mp3"</span>,<span class="attr">cover</span>:<span class="string">"http://singerimg.kugou.com/uploadpic/pass/softhead/100/20190322/20190322000546528435.jpg?param=106x106"</span>,&#125;,</span><br><span class="line">&#123;<span class="attr">title</span>:<span class="string">"嫁衣"</span>,<span class="attr">artist</span>:<span class="string">"吴虹飞&amp;幸福大街"</span>,<span class="attr">mp3</span>:<span class="string">"http://fs.open.kugou.com/c08023b444083ff486a88ba731d9310a/5cec9f6f/G121/M05/0D/1B/uQ0DAFo6DNyAAdj1AFDSyM4wM0M117.mp3"</span>,<span class="attr">cover</span>:<span class="string">"http://singerimg.kugou.com/uploadpic/pass/softhead/100/20111123/20111123150044954.jpg?param=106x106"</span>,&#125;,</span><br><span class="line">&#123;<span class="attr">title</span>:<span class="string">"解药"</span>,<span class="attr">artist</span>:<span class="string">"孙紫晴"</span>,<span class="attr">mp3</span>:<span class="string">"http://fs.open.kugou.com/e09caaf84b38439c8ac76f9530c05ad6/5cec9c53/G135/M06/01/07/Z5QEAFuKgSyAZYInADpA09oxkQk172.mp3"</span>,<span class="attr">cover</span>:<span class="string">"http://singerimg.kugou.com/uploadpic/pass/softhead/100/20130531/20130531161511554.jpg?param=106x106"</span>,&#125;,</span><br><span class="line">&#123;<span class="attr">title</span>:<span class="string">"矜持"</span>,<span class="attr">artist</span>:<span class="string">"姚贝娜"</span>,<span class="attr">mp3</span>:<span class="string">"http://fs.open.kugou.com/3a3059c31a353951d48de294c6a9c75d/5ceca028/G009/M06/0D/1F/qYYBAFUPb-uAEZ9FAD87WofR9HQ889.mp3"</span>,<span class="attr">cover</span>:<span class="string">"http://singerimg.kugou.com/uploadpic/pass/softhead/100/20140304/20140304140958863665.jpg?param=106x106"</span>,&#125;,</span><br><span class="line">&#123;<span class="attr">title</span>:<span class="string">"锦鲤抄"</span>,<span class="attr">artist</span>:<span class="string">"银临、云の泣"</span>,<span class="attr">mp3</span>:<span class="string">"http://fs.open.kugou.com/638010b766f2c9887dbe83f82f1e86f2/5cec9ddc/G010/M06/1C/14/Sg0DAFUJgEeAMyZoADvachXfuK0962.mp3"</span>,<span class="attr">cover</span>:<span class="string">"http://singerimg.kugou.com/uploadpic/pass/softhead/100/20160815/20160815163511387.jpg?param=106x106"</span>,&#125;,</span><br><span class="line">&#123;<span class="attr">title</span>:<span class="string">"看到风"</span>,<span class="attr">artist</span>:<span class="string">"冯提莫"</span>,<span class="attr">mp3</span>:<span class="string">"http://fs.open.kugou.com/5ed4d8fe7238de9fe612fa8669b69461/5cec9d9a/G157/M06/0D/00/PYcBAFyjBc-AO1lkAE3-W_SdmR4725.mp3"</span>,<span class="attr">cover</span>:<span class="string">"http://singerimg.kugou.com/uploadpic/pass/softhead/100/20190102/20190102180610282.jpg?param=106x106"</span>,&#125;,</span><br><span class="line">&#123;<span class="attr">title</span>:<span class="string">"佛系少女"</span>,<span class="attr">artist</span>:<span class="string">"冯提莫"</span>,<span class="attr">mp3</span>:<span class="string">"http://fs.open.kugou.com/580d96772ae5c347197378774d633f45/5ceca13d/G110/M03/14/10/TpQEAFvuN3aAP7ezADCfVNXrcYE490.mp3"</span>,<span class="attr">cover</span>:<span class="string">"http://singerimg.kugou.com/uploadpic/pass/softhead/100/20190102/20190102180610282.jpg?param=106x106"</span>,&#125;,</span><br><span class="line">&#123;<span class="attr">title</span>:<span class="string">"可不可以"</span>,<span class="attr">artist</span>:<span class="string">"张紫豪"</span>,<span class="attr">mp3</span>:<span class="string">"http://fs.open.kugou.com/9325794f4bf6d4962273458b3a6cfe21/5cec9e56/G130/M05/12/00/YpQEAFrxTvOAQ8I-ADrUXaC6U88058.mp3"</span>,<span class="attr">cover</span>:<span class="string">"http://singerimg.kugou.com/uploadpic/pass/softhead/100/20180829/20180829150149484.jpg?param=106x106"</span>,&#125;,</span><br><span class="line">&#123;<span class="attr">title</span>:<span class="string">"客官不可以"</span>,<span class="attr">artist</span>:<span class="string">"徐良、小凌"</span>,<span class="attr">mp3</span>:<span class="string">"http://fs.open.kugou.com/2690d6871e18645aa36a5630d998b213/5cec9e79/G006/M09/17/19/poYBAFTAPymAFwZsADhhbRy94q8040.mp3"</span>,<span class="attr">cover</span>:<span class="string">"http://singerimg.kugou.com/uploadpic/pass/softhead/100/20190311/20190311135913203.jpg?param=106x106"</span>,&#125;,</span><br><span class="line">&#123;<span class="attr">title</span>:<span class="string">"仙剑问情"</span>,<span class="attr">artist</span>:<span class="string">"萧人凤"</span>,<span class="attr">mp3</span>:<span class="string">"http://fs.open.kugou.com/c910346617457a39c89f76bf9d535953/5ceca4b8/G001/M01/08/13/QQ0DAFS3AtGAK1RmAD3r0yHdNHY032.mp3"</span>,<span class="attr">cover</span>:<span class="string">"http://singerimg.kugou.com/uploadpic/pass/softhead/100/20150112/20150112102446121545.jpg?param=106x106"</span>,&#125;,</span><br><span class="line">&#123;<span class="attr">title</span>:<span class="string">"桃源恋歌"</span>,<span class="attr">artist</span>:<span class="string">"GARNiDELiA"</span>,<span class="attr">mp3</span>:<span class="string">"http://fs.open.kugou.com/e2cf4d84ad7ab534608a0d10690c9a84/5ceca446/G123/M09/0C/00/uw0DAFq6hR2AHseOADgmvMarDHg157.mp3"</span>,<span class="attr">cover</span>:<span class="string">"http://singerimg.kugou.com/uploadpic/pass/softhead/100/20181101/20181101183056556.jpg?param=106x106"</span>,&#125;,</span><br><span class="line">&#123;<span class="attr">title</span>:<span class="string">"美丽的神话"</span>,<span class="attr">artist</span>:<span class="string">"白冰、胡歌"</span>,<span class="attr">mp3</span>:<span class="string">"http://fs.open.kugou.com/c6a73961afc6cf436901c57e32ebd00c/5ceca27f/G003/M06/17/0F/Qw0DAFS5DVaADRFnAFCJpAjWxrM130.mp3"</span>,<span class="attr">cover</span>:<span class="string">"http://singerimg.kugou.com/uploadpic/pass/softhead/100/20110704/20110704111056705.jpg?param=106x106"</span>,&#125;,</span><br><span class="line"><span class="comment">/*&#123;title:"",artist:"",mp3:".mp3",cover:".jpg?param=106x106",&#125;,*/</span></span><br><span class="line">];</span><br><span class="line"><span class="keyword">var</span> isRotate = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">var</span> autoplay = <span class="literal">false</span>;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>

</details>

<p>如果想添加歌曲，推荐一个网站<a href="http://www.biaobaishike.com/yinyue.php" rel="external nofollow noopener noreferrer" target="_blank">音乐外链获取</a>，选择酷狗音乐搜索  </p>
<p>文件都复制好了，就要把播放器植入到网页中，还是在主题模板文件中  </p>
<p>将以下代码插入到<code>head.ejs</code>的<code>&lt;head&gt;</code>标签内  </p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"&lt;%= config.root %&gt;css/player.css"</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>将QPlayer音乐播放插件主要代码插入到<code>footer.ejs</code>中，放在<a href="#live2d-血小板">血小板</a>插件前面即可，然后将<code>jquery.marquee.min.js</code>换成了全网通用的  </p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- QPlayer音乐播放器 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"QPlayer"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"pContent"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"player"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"cover"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"ctrl"</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"musicTag marquee"</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">strong</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br><span class="line">				 <span class="tag">&lt;<span class="name">span</span>&gt;</span> - <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"artist"</span>&gt;</span>Artist<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"progress"</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"timer left"</span>&gt;</span>0:00<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"contr"</span>&gt;</span></span><br><span class="line">					<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"rewind icon"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">					<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"playback icon"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">					<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"fastforward icon"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"right"</span>&gt;</span></span><br><span class="line">					<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"liebiao icon"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"ssBtn"</span>&gt;</span></span><br><span class="line">	        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"adf"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ol</span> <span class="attr">id</span>=<span class="string">"playlist"</span>&gt;</span><span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- &lt;script src="js/jquery.min.js"&gt;&lt;/script&gt; --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- &lt;script src="js/jquery.marquee.min.js"&gt;&lt;/script&gt; --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcss.com/jquery/2.2.4/jquery.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">'text/javascript'</span> <span class="attr">src</span>=<span class="string">'//cdn.jsdelivr.net/jquery.marquee/1.4.0/jquery.marquee.min.js'</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 歌单列表playlist.js --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/js/playlist.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/js/player.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript"><span class="function"><span class="keyword">function</span> <span class="title">bgChange</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">	<span class="keyword">var</span> lis= $(<span class="string">'.lib'</span>);</span></span><br><span class="line"><span class="javascript">	<span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;lis.length; i+=<span class="number">2</span>)</span></span><br><span class="line"><span class="javascript">	lis[i].style.background = <span class="string">'rgba(246, 246, 246, 0.5)'</span>;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="javascript"><span class="built_in">window</span>.onload = bgChange;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>好了，启动服务后应该就可以预览效果了，如果要添加歌曲，直接在配置文件加就行，缺点就是国外用户无法听歌，因为有墙，他们访问不到酷狗  </p>
<h4 id="评论插件"><a href="#评论插件" class="headerlink" title="评论插件"></a>评论插件</h4><p>在<code>themes/replica/layout/_widget</code> 文件夹中可以看到，该主题提供了两个评论插件<a href="https://disqus.com/" rel="external nofollow noopener noreferrer" target="_blank">disqus</a>和<a href="https://github.com/gitalk/gitalk#install" rel="external nofollow noopener noreferrer" target="_blank">gitalk</a>，默认使用<code>gitalk</code>，否则使用<code>disqus</code>  </p>
<p><span style="color:#ff0000">注意：默认使用 gitalk ,只有翻墙的用户不能使用 gitalk 时才能使用 disqus，稍后在源码中可以看到逻辑，所以我这里就用<code>gitalk</code>示范</span>  </p>
<p>根据github上的<a href="https://github.com/gitalk/gitalk/blob/master/readme-cn.md" rel="external nofollow noopener noreferrer" target="_blank">说明文档</a>，有两种安装方式：  </p>
<p><strong>方式一</strong>：直接在模板文件中引入</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;link rel=<span class="string">"stylesheet"</span> href=<span class="string">"https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css"</span>&gt;</span><br><span class="line">&lt;script src=<span class="string">"https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"</span>&gt;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">  &lt;!-- or --&gt;</span><br><span class="line"></span><br><span class="line">&lt;link rel=<span class="string">"stylesheet"</span> href=<span class="string">"https://unpkg.com/gitalk/dist/gitalk.css"</span>&gt;</span><br><span class="line">&lt;script src=<span class="string">"https://unpkg.com/gitalk/dist/gitalk.min.js"</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p><strong>方式二</strong>：使用npm进行安装  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i --save gitalk</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import <span class="string">'gitalk/dist/gitalk.css'</span></span><br><span class="line">import Gitalk from <span class="string">'gitalk'</span></span><br></pre></td></tr></table></figure>

<p>然后，需要在页面模板文件引入相关<code>&lt;div&gt;</code>标签，通过以下<code>javascript</code>进行调用  </p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"gitalk-container"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> gitalk = <span class="keyword">new</span> Gitalk(&#123;</span><br><span class="line">  clientID: <span class="string">'GitHub Application Client ID'</span>,</span><br><span class="line">  clientSecret: <span class="string">'GitHub Application Client Secret'</span>,</span><br><span class="line">  repo: <span class="string">'GitHub repo'</span>,</span><br><span class="line">  owner: <span class="string">'GitHub repo owner'</span>,</span><br><span class="line">  admin: [<span class="string">'GitHub repo owner and collaborators, only these guys can initialize github issues'</span>],</span><br><span class="line">  id: location.pathname,      <span class="comment">// Ensure uniqueness and length less than 50</span></span><br><span class="line">  distractionFreeMode: <span class="literal">false</span>  <span class="comment">// Facebook-like distraction free mode</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">gitalk.render(<span class="string">'gitalk-container'</span>)</span><br></pre></td></tr></table></figure>

<p>好在<code>replica</code>主题下的<code>layout/_widget/gitalk.ejs</code>文件中已经帮助我们配置好了，不需要我们操作上面两步，不过还需要进一步改进一下，由于 <code>github issue</code> 的 <code>label</code> 长度被限制在了50个字，所以我们采用 <code>Md5</code> 对 <code>id</code> 进行加密 </p>
<details>
<summary>gitalk.ejs文件内容</summary>

<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 引入MD5的js --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcss.com/blueimp-md5/2.10.0/js/md5.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">'container'</span> <span class="attr">id</span>=<span class="string">"gitalk-container"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> gitalk = <span class="keyword">new</span> Gitalk(&#123;</span></span><br><span class="line"><span class="javascript">        clientID: <span class="string">'&lt;%= config.gitalk.client_id %&gt;'</span>,</span></span><br><span class="line"><span class="javascript">        clientSecret: <span class="string">'&lt;%= config.gitalk.client_secret %&gt;'</span>,</span></span><br><span class="line"><span class="javascript">        repo: <span class="string">'&lt;%= config.gitalk.repo %&gt;'</span>,</span></span><br><span class="line"><span class="javascript">        owner: <span class="string">'&lt;%= config.gitalk.owner %&gt;'</span>,</span></span><br><span class="line"><span class="javascript">        admin: [<span class="string">'&lt;%= config.gitalk.owner %&gt;'</span>],</span></span><br><span class="line"><span class="javascript">        <span class="comment">/*添加id属性，使用MD5加密，注意后面的逗号*/</span></span></span><br><span class="line"><span class="undefined">	    id: md5(location.pathname),</span></span><br><span class="line"><span class="javascript">        distractionFreeMode: <span class="literal">true</span></span></span><br><span class="line"><span class="undefined">    &#125;)</span></span><br><span class="line"><span class="javascript">    gitalk.render(<span class="string">'gitalk-container'</span>)</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

</details>

<p>并且在<code>replica</code>主题下的<code>layout/_partial/article.ejs</code>中已经引入<code>div标签</code>  </p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- if-else逻辑，如果gitalk不能使用才使用disqus，但是disqus只有翻墙之后的用户才能使用，并且满足前一条if-else逻辑 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">config.gitalk</span> ) &#123; %&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">%-</span> <span class="attr">partial</span>('<span class="attr">_widget</span>/<span class="attr">gitalk</span>') %&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125;<span class="attr">else</span>&#123; %&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">%-</span> <span class="attr">partial</span>('<span class="attr">_widget</span>/<span class="attr">disqus</span>') %&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br></pre></td></tr></table></figure>

<p>从上面可以看到一个判断，如果使用<code>config.gitalk</code>有值就引入<code>gitalk</code>的<code>div</code>以及相关样式，否则使用<code>disqus</code>  </p>
<blockquote>
<p>Disqus使用方法：去<a href="https://disqus.com/" rel="external nofollow noopener noreferrer" target="_blank">Disqus</a>创建一个网站，将名字配置到<code>_config.yml</code>即可  </p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">disqus: teaperdev   <span class="comment">#配置disqus</span></span><br></pre></td></tr></table></figure>

<p>不多说，继续<code>gitalk</code>配置，在<code>hexoblog/_config.yml</code>中配置如下参数  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># gitalk</span></span><br><span class="line">gitalk:</span><br><span class="line">  <span class="built_in">enable</span>: <span class="literal">true</span>      </span><br><span class="line">  client_id: 79a82d93fcd761032f45        </span><br><span class="line">  client_secret: b784392d66d81a991565a56598f2d369e71e21ad    </span><br><span class="line">  repo: hexoblog	<span class="comment">#你要新建一个仓库来保存这些comments，这里repo就使用当前博客的</span></span><br><span class="line">  owner: teaper    <span class="comment">#管理员用户和仓库所有者(gitalk.ejs中admin和owner都是owner的值，所以这里只写owner)</span></span><br></pre></td></tr></table></figure>

<p>其中<code>Client Id</code>需要去<a href="https://github.com/settings/applications/new" rel="external nofollow noopener noreferrer" target="_blank">github创建应用程序</a>获取，<code>Authorization callback URL</code> 主页地址和回调地址填写你的网站地址<span style="color:#ff0000">(注意：两个地址后面都要加上/，https或http无所谓，例如我的：<a href="https://www.teaper.dev/">https://www.teaper.dev/</a>)</span>  </p>
<p><img src="http://ww1.sinaimg.cn/large/006kWbIoly1g3ky8py2asj31hc156jvr.jpg" alt>  </p>
<p>配置好，使用<code>hexo g &amp;&amp; hexo s</code>重新运行服务后应该可以看到效果了，不过还需要使用<code>hexo d</code>命令进一步将其提交到服务器，才能知道回调地址是否有效  </p>
<h4 id="日常维护"><a href="#日常维护" class="headerlink" title="日常维护"></a>日常维护</h4><p>使用 <code>hexo d</code>命令只是将 <code>public</code> 文件夹中的静态资源文件提交到 <code>github page</code>，并没有把原始的整个博客存起来，所以我们要把 <code>hexoblog</code> 中的内容提交到 <code>master</code> 分支，相信大家都会  </p>
<p>其次，要注意，如果你像我一样，对<code>themes</code>下的某个主题做了自定义，一定要将修改过得主题用 git 提交到一个单独的仓库中，因为上面那步，<strong>把 <code>hexoblog</code> 中的内容提交到 <code>master</code> 分支</strong>时，是不会把主题也给提交上去的 <span style="color:#ff0000">(不要试图去改什么忽略文件，巨坑)</span>  </p>
<blockquote>
<p>最后附上我修改后的主题：<a href="https://github.com/teaper/replica" rel="external nofollow noopener noreferrer" target="_blank">https://github.com/teaper/replica.git</a>  </p>
</blockquote>
<h5 id="重新部署博客需要哪些步骤？"><a href="#重新部署博客需要哪些步骤？" class="headerlink" title="重新部署博客需要哪些步骤？"></a>重新部署博客需要哪些步骤？</h5><p>假设你系统挂了，需要重新部署博客，首先去克隆你 <code>master</code> 分支上的 <code>hexoblog</code>  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/teaper/hexoblog.git    <span class="comment">#克隆博客</span></span><br><span class="line"><span class="built_in">cd</span> hexoblog <span class="comment">#文件夹</span></span><br><span class="line">git co master   <span class="comment">#切换到master分支</span></span><br></pre></td></tr></table></figure>

<p>你会发现它没有<code>node_modules</code>文件夹，也没有日志文件<code>yarn-error.log</code>，主题文件夹下的 <code>replica</code> 主题下居然没有主题，别急，一个一个来  </p>
<p>首先克隆 <code>replica</code> 主题，现在知道保存修改之后的主题的重要性了吧？  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> themes   </span><br><span class="line">git <span class="built_in">clone</span> https://github.com/teaper/replica.git     <span class="comment">#克隆主题</span></span><br><span class="line"><span class="built_in">cd</span> ..   <span class="comment">#回到上级目录hexoblog</span></span><br></pre></td></tr></table></figure>

<p>接下来就要把我们以前 <code>npm</code> 安装过的包重新安装回来  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install     <span class="comment">#安装博客依赖包</span></span><br><span class="line">hexo g &amp;&amp; hexo s        <span class="comment">#生成静态资源并且启动服务</span></span><br></pre></td></tr></table></figure>

<p>是不是和之前的一样，<strong>有木有？有木有？</strong><br>剩下的事，不用我说了吧？日常使用～～emmmmmmm  </p>
<h5 id="hexo博客样式问题多怎么办？"><a href="#hexo博客样式问题多怎么办？" class="headerlink" title="hexo博客样式问题多怎么办？"></a>hexo博客样式问题多怎么办？</h5><p>有时候启动服务就乱了，我的办法是重复执行<code>hexo cl</code>和<code>hexo g &amp;&amp; hexo s</code>，直到正常为止<br>还有第二种可能性就是，主题自带的插件包太老了，例如：<code>hexo-renderer-marked</code>，渲染<code>markdown</code>乱七八糟，解决方法如下：  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm un hexo-renderer-marked --save      <span class="comment">#卸载它</span></span><br><span class="line">npm install hexo-renderer-marked --save     <span class="comment">#重新安装新版</span></span><br></pre></td></tr></table></figure>


  </article>
</div>


    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
<script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
<script src="https://cdn.bootcss.com/blueimp-md5/2.10.0/js/md5.min.js"></script>
<div class="container" id="gitalk-container"></div>
<script>
    var gitalk = new Gitalk({
        clientID: '79a82d93fcd761032f45',
        clientSecret: 'b784392d66d81a991565a56598f2d369e71e21ad',
        repo: 'hexoblog',
        owner: 'teaper',
        admin: ['teaper'],
	id: md5(location.pathname),
        distractionFreeMode: true
    })
    gitalk.render('gitalk-container')
</script>




</div>

<div class="footer-wrapper container">
  <footer class="footer clearfix">
    <div class="clearfix">
    <a href="https://www.teaper.dev" class="footer-logo">
      <i class="fa fa-github"></i>
    </a>
    <ul class="footer-social-link">
      <li>© 2019 teaper</li>
      <li><a href="https://www.teaper.dev">Home</a></li>
      
      <li><a href="https://github.com/teaper" rel="external nofollow noopener noreferrer" target="_blank">Github</a></li>
      
      <li><a href="https://www.weibo.com/5806191772" rel="external nofollow noopener noreferrer" target="_blank">Weibo</a></li>
      
      <li><a href="https://twitter.com/TEAPERS" rel="external nofollow noopener noreferrer" target="_blank">Twitter</a></li>
      
    </ul>
    <div class="footer-theme-info" id="hitokoto">
       行是知之始 ❤ 知是行之成
    </div>
    </div>
    
    <div class="footer-pageview">
        <a href="https://info.flagcounter.com/MrmG" rel="external nofollow noopener noreferrer" target="_blank">
          <img src="https://s04.flagcounter.com/count2/MrmG/bg_FFFFFF/txt_6A737D/border_FFFFFF/columns_7/maxflags_14/viewers_3/labels_1/pageviews_1/flags_0/percent_0/">
        </a>
    </div>
    
  </footer>
</div>
<!-- QPlayer音乐播放器 -->
<div id="QPlayer">
<div id="pContent">
	<div id="player">
		<span class="cover"></span>
		<div class="ctrl">
			<div class="musicTag marquee">
				<strong>Title</strong>
				 <span> - </span>
				<span class="artist">Artist</span>
			</div>
			<div class="progress">
				<div class="timer left">0:00</div>
				<div class="contr">
					<div class="rewind icon"></div>
					<div class="playback icon"></div>
					<div class="fastforward icon"></div>
				</div>
				<div class="right">
					<div class="liebiao icon"></div>
				</div>
			</div>
		</div>
	</div>
	<div class="ssBtn">
	        <div class="adf"></div>
    </div>
</div>
<ol id="playlist"></ol>
</div>
<!-- <script src="js/jquery.min.js"></script> -->
<!-- <script src="js/jquery.marquee.min.js"></script> -->
<script type="text/javascript" src="https://cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script type="text/javascript" src="//cdn.jsdelivr.net/jquery.marquee/1.4.0/jquery.marquee.min.js"></script>

<script src="/js/playlist.js"></script>
<script src="/js/player.js"></script>
<script>
function bgChange(){
	var lis= $('.lib');
	for(var i=0; i<lis.length; i+=2)
	lis[i].style.background = 'rgba(246, 246, 246, 0.5)';
	
	$(".avatar").hover(function(){
		$(".avatar").attr({
		"src" : "http://ww1.sinaimg.cn/large/006kWbIoly1g763f4h9w5j30np0np40j.jpg"
		});
	},function(){
		$(".avatar").attr({
		"src" : "https://i.loli.net/2019/06/04/5cf683cea837456459.jpeg"
		});
	});
}
window.onload = bgChange;
</script>

<!-- Live2D血小板 -->
<div id="landlord">
    <div class="message" style="opacity:0"></div>
    <canvas id="live2d" width="560" height="500" class="live2d"></canvas>
    <!-- 省略隐藏按钮 -->
</div>

<!-- 鼠标单击爆炸区域 -->
<canvas class="fireworks" style="position:fixed;left:0;top:0;z-index:1031;pointer-events:none;"></canvas>

<script type="text/javascript" src="https://cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script type="text/javascript">
    var message_Path = '/live2d/'
    var home_Path = 'https://www.teaper.dev/'
</script>
<script type="text/javascript" src="/live2d/js/live2d.js"></script>
<script type="text/javascript" src="/live2d/js/message.js"></script>
<script type="text/javascript">
    loadlive2d("live2d", "/live2d/model/xiaoban/model.json");
</script>

<!-- 打字泡沫 -->
<script type="text/javascript" src="/js/activate-power-mode.js"></script>
<script>
    POWERMODE.colorful = true;  
    POWERMODE.shake = false;    
    document.body.addEventListener('input', POWERMODE);
</script>

<!-- 引入一言 -->
<script src="https://cdn.jsdelivr.net/npm/bluebird@3/js/browser/bluebird.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/whatwg-fetch@2.0.3/fetch.min.js"></script>
<script src="https://v1.hitokoto.cn/?encode=js&select=%23hitokoto" defer></script>
<!-- <script src="/js/hitokoto.js"></script> -->

<!-- 粒子特效 -->
<!-- <script src="/js/canvas-nest.min.js"></script> -->

<!-- 鼠标单击爱心特效 -->
<script src="/js/mouse.js"></script>
<!-- 鼠标单击爆炸特效 -->
<script src="/js/anime.min.js"></script>
<script src="/js/fireworks.js"></script>




<script>
  (function() {
    var cx = '014633199185561276043:bpv9wnr4qhc';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
      '//cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>



<script src="/js/main.js"></script>

</body>
</html>
